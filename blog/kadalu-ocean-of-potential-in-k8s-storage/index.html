

<!DOCTYPE HTML>
<html lang="en">
    <head>
    <meta name="viewport" content="width=device-width"/>
    <meta charSet="utf-8"/>
    <title>kaDalu — Ocean of potential in k8s storage</title>
    <link rel="stylesheet" href="/bulma-0.9.4.min.css">
    <link rel="stylesheet" href="/stylesheet.css">
    <link rel="stylesheet" href="/syntax-highlight-emacs.css">
    <script defer src="/alpinejs-3.10.5.min.js"></script>

    <meta name="generator" content="Nanoc 4.12.7">
    
<link href="/favicon.ico" rel="icon" type="image/x-icon" />
<link rel="apple-touch-icon" href="/favicon.ico" />
<meta name="generator" content="Nanoc 4.12.7">
<meta property="og:title" content="kaDalu — Ocean of potential in k8s storage"/>
<meta name="author" content="amarts"/>
<meta property="og:locale" content="en_US"/>
<meta name="description" content="It has been more than 3 years since Kubernetes (k8s) picked up exponential growth. Now, almost every software company and every product are trying to latch on to this phenomena and expand. While such stupendous growth is a nice thing, it is not without its unique challenges."/>
<meta property="og:description" content="It has been more than 3 years since Kubernetes (k8s) picked up exponential growth. Now, almost every software company and every product are trying to latch on to this phenomena and expand. While such stupendous growth is a nice thing, it is not without its unique challenges."/>
<link rel="canonical" href="/blog/kadalu-ocean-of-potential-in-k8s-storage/"/>
<meta property="og:url" content="/blog/kadalu-ocean-of-potential-in-k8s-storage/"/>
<meta property="og:site_name" content="Kadalu"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2019-08-02"/>

<meta name="twitter:card" content="summary"/>
<meta name="twitter:image" content="https://kadalu.tech/images/logo-icon-spaced.png"/>
<meta property="og:image" content="https://kadalu.tech/images/logo-icon-spaced.png"/>

<meta name="twitter:site" content="https://kadalu.tech"/>
<meta name="twitter:title" content="kaDalu — Ocean of potential in k8s storage"/>
<meta name="twitter:description" content="It has been more than 3 years since Kubernetes (k8s) picked up exponential growth. Now, almost every software company and every product are trying to latch on to this phenomena and expand. While such stupendous growth is a nice thing, it is not without its unique challenges."/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />


    <script defer data-domain="kadalu.tech" src="https://plausible.io/js/plausible.js"></script>
</head>

    <body>
        <div id="main">
            <nav class="navbar px-4" role="navigation" aria-label="main navigation" x-data="{showing: false}">
  <div class="navbar-brand has-text-left">
      <a class="navbar-item" href="/">
          <img src="/images/logo.svg" alt="Kadalu Technologies" width="300">
    </a>

    <a role="button" class="navbar-burger" aria-label="menu" :class="showing ? 'is-active' : ''" aria-expanded="false" @click="showing = !showing">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>

  <div class="navbar-end" x-show="showing">
      <a class="navbar-item " href="/pricing">
          Pricing
      </a>
      <a class="navbar-item " href="/blog">
          Blog
      </a>
      <a class="navbar-item " href="/about">
          About Us
      </a>
  </div>
  <div class="navbar-end is-hidden-touch">
      <a class="navbar-item " href="/pricing">
          Pricing
      </a>
      <a class="navbar-item " href="/blog">
          Blog
      </a>
      <a class="navbar-item " href="/about">
          About Us
      </a>
  </div>
</nav>

            <div class="container is-max-desktop px-4" id="content">
                <div class="has-text-centered py-6">
                    <a href="/">
                        <figure class="image is-64x64" style="margin: auto">
                            <img class="is-rounded" src="https://github.com/amarts.png?size=300px">
                        </figure>
                        <p class="has-text-grey pb-6 is-size-6 is-uppercase">Amar Tumballi</p>
                    </a>
                </div>

                <div class="">
                    <h1 class="title is-1 has-text-centered">kaDalu — Ocean of potential in k8s storage</h1>
                    <div class="has-text-grey mb-1 has-text-centered">
                        Posted on <strong>Aug 2, 2019</strong> by <strong>Amar Tumballi</strong>
                    </div>
                    <p class="has-text-centered">
                        <span class="icon-text">
                            <svg class="mr-1 icon" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path></svg>
                            <span><strong>6 minutes</strong> read.</span>
                        </span>
                    </p>
                    <div class="content py-6">
                        <div class="notification is-info is-light">
    This blog was first published on <a href="https://medium.com/@tumballi/kadalu-ocean-of-potential-in-k8s-storage-a07be1b8b961">Amar Tumballi's Website</a>.
</div>
<div class="paragraph">
<p>It has been more than 3 years since Kubernetes (k8s) picked up
exponential growth. Now, almost every software company and every
product are trying to latch on to this phenomena and expand. While
such stupendous growth is a nice thing, it is not without its unique
challenges.</p>
</div>
<div class="sect1">
<h2 id="_k8s_and_storage">k8s and storage:</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While process (CPU), network management has completely moved <a href="https://thenewstack.io/how-to-treat-your-kubernetes-clusters-like-cattle-not-pets/">to cattle mode</a>
in k8s, storage is not virtualized enough to become a cattle mode
candidate. By migrating storage management to CSI (Container Storage
Interface) and introducing concepts of PV (PersistentVolume) and PVC
(PersistentVolumeClaim), k8s now has made it possible for storage
vendors to provide viable solutions. But, it <strong>is not</strong> easy!</p>
</div>
<div class="paragraph">
<p>Let me explain why;</p>
</div>
<div class="ulist">
<ul>
<li>
<p>While network and CPU can stay ephemeral and invoked only when there
is a need for ‘execution’, data needs to be persisted — stored and
retrieved even when processes are not invoked.</p>
</li>
<li>
<p>To "store" data, one needs to access physical storage media,
somewhere.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is the main reason why object storage made sense (mainly because
it can be accessed with a simple URL, can be hosted outside the
cluster somewhere in the cloud). But this is most efficient for
immutable data only. Applications are still written to work on top of
file-systems, which directly or indirectly sits on top of block
storage. Then the question is, what do we do till then?</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gluster_and_k8s_story">Gluster and k8s — story</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://gluster.org/">Gluster</a>, being a SDS (Software Defined
Storage), has all the ingredients to make storage more cattle mode
like, but lacks a good management layer based on APIs (or call it REST
APIs). The existing implementation made the solution bulkier than
required. Gluster used the “heketi project” as an external entity to
help in k8s world. Even though the whole stack could be containerized
and managed within k8s, the overall complexity of the solution made
its adoption very difficult.</p>
</div>
<div class="paragraph">
<p>The “Rook project” which started as a ‘storage operator’ for k8s early
on, picked Ceph as the storage engine. Rook did a good job of making
‘management’ easy for admins using k8s. Currently, many projects have
ported their plugins to Rook. And Rook is growing in popularity with
Ceph as the focus.</p>
</div>
<div class="paragraph">
<p>In the mean time, Gluster tried to productize its long pending GD2
(which was intended to have embedded REST API). For those who doesn’t
know what is gd2, it means v2.0 (or new way) of glusterd, which is the
management layer of Gluster. There was a plan of bringing together
different Gluster projects under a single umbrella to provide a
comprehensive “container storage solution”, called as GCS (Gluster
Container Storage) or GlusterCS. This isn’t finished and has too many
dependencies to call it production ready as yet. As per my
understanding on contributions are made to these projects in last 4
months or so.</p>
</div>
<div class="paragraph">
<p>The “gluster-subvol” approach which was also attempted didn’t get much
attention though. However, it did solve a major problem of scale of
PVs in k8s. This was not tagged as a generic solution for k8s. Also,
gluster community didn’t perceive this as a generic solution.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>I should say, this is not yet a ‘Gluster community’ project, mainly
as it changes the way Gluster is managed, and perceived in last 10
years.</p>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction_to_kadalu">Introduction to kaDalu</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This was the time when the proposal for a light-weight service that
would provide a comprehensive solution, came through. I wrote about it
earlier <a href="https://medium.com/@tumballi/13020a561962">here in my blog</a>. Once we started
prototyping, we called the project as ‘kaDalu’ (ಕಡಲು), which means
Ocean.</p>
</div>
<div class="paragraph">
<p>We talked about this at today’s
<a href="https://devconfin19.sched.com/event/RVPw">DevConf.IN</a>. You can find
the slides for our
<a href="https://github.com/kadalu/kadalu/blob/master/doc/rethinking-gluster-management-using-k8s.pdf">presentation</a>
here, and the demo of our simple two steps install can be found @
<a href="https://asciinema.org/a/259949" class="bare">https://asciinema.org/a/259949</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/kadalu-operator.jpg" alt="Kadalu Overview" width="500">
</div>
</div>
<div class="paragraph">
<p>kaDalu is the operator which provisions the gluster storage as
containers, and manages everything related to GlusterFS, so that k8s
users can get PV/PVC requests done through CSI. As it is developed for
higher versions of k8s where CSI is supported (1.14.+), kaDalu choose
to be an independent operator, instead of a sub-operator under rook
project. kadalu is choosen to be very light weight, so there is no
duplicate layers.</p>
</div>
<div class="paragraph">
<p>One other main solution we wanted to provide with kaDalu project is
helping users (and companies) having traditional storage array, or any
other existing highly available storage, which they want to expose in
k8s. With kadalu, it becomes very easy. All operator and CSI
responsibilities are taken care by kaDalu project, and all you have to
do is, expose the storage in one of the nodes of k8s, and provide
storage config file to k8s.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>One other main solution we wanted to provide with kaDalu project is
helping users (and companies) having traditional storage array, or
any other existing highly available storage, which they want to
expose in k8s</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>We invite you to try out the project, steps to try and install the
operator are in its <a href="https://github.com/kadalu/kadalu">github page</a>.</p>
</div>
<div class="paragraph">
<p>I should say, this is not yet a ‘Gluster community’ project, mainly as
it changes the way Gluster is managed, and perceived in last 10
years. If there are enough users trying it out, and liking the project
we can call it a community project. Right now, this is still
<a href="https://aravindavk.in">Aravinda</a>’s and my pet project. Do give a github star if you like it,
so we know you like it. We also don’t mind you tweeting and blogging
about it :-)</p>
</div>
</div>
</div>
                    </div>
                </div>

                <div class="has-text-centered mb-6 notification is-light">
                    <p class="has-text-grey is-uppercase is-size-5 pb-2">About Amar Tumballi</p>
                    
                    <p class="mb-4">Advisor - Kadalu Technologies</p>
                    
                    <p>
                        
                        <a class="mr-2" href="https://medium.com/@tumballi">Website</a>|
                        
                        
                        <a class="mx-2" href="https://twitter.com/tumballi">Twitter</a>|
                        
                        <a class="ml-2" href="https://github.com/amarts">Github</a>
                    </p>
                </div>
            </div>

        </div>
        <div class="footer has-background-primary has-text-white pt-6">
    <div class="columns">
        <div class="column">
            <h2 class="has-font-weight-semibold is-size-5 is-underlined py-2">Company</h2>
            <a class="is-block has-text-white" href="/about">About Us</a>
            <a class="is-block has-text-white" href="/blog">Blog Posts</a>
        </div>
        <div class="column">
            <h2 class="has-font-weight-semibold is-size-5 is-underlined py-2">Resources</h2>
            <a class="is-block has-text-white" href="/support">Support</a>
            <a class="is-block has-text-white" href="/security">Security</a>
            <a class="is-block has-text-white" href="/gluster-vs-kadalu">Gluster vs Kadalu</a>
            <a class="is-block has-text-white" href="/storage/quick-start">Kadalu Storage Quick start</a>
        </div>
        <div class="column">
            <h2 class="has-font-weight-semibold is-size-5 is-underlined py-2">Community</h2>
            <a class="is-block has-text-white" target="_blank" href="https://join.slack.com/t/kadalu/shared_invite/enQtNzg1ODQ0MDA5NTM2LWMzMTc5ZTJmMjk4MzI0YWVhOGFlZTJjZjY5MDNkZWI0Y2VjMDBlNzVkZmI1NWViN2U3MDNlNDJhNjE5OTBlOGU">Community Slack</a>
            <a class="is-block has-text-white" target="_blank" href="https://github.com/kadalu">Github</a>
        </div>

        <div class="column">
            <h2 class="has-font-weight-semibold is-size-5 is-underlined py-2">Contact Us</h2>
            <a class="is-block has-text-white" href="mailto:hello@kadalu.tech">Email to hello@kadalu.tech</a>
            <a class="is-block has-text-white" href="https://twitter.com/kadalu_tech">Twitter</a>
            <a class="is-block has-text-white" href="https://linkedin.com/kadalu_tech">Linkedin</a>
        </div>
    </div>
    <div class="has-text-centered mt-6">
        Copyright &copy; 2022 Kadalu Technologies Private Limited.
    </div>
</div>

        </div>
    </body>
</html>
