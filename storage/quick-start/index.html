<!DOCTYPE HTML>
<html lang="en">
    <head>
    <meta name="viewport" content="width=device-width"/>
    <meta charSet="utf-8"/>
    <title>Kadalu Storage - Quick Start Guide</title>
    <link rel="stylesheet" href="/stylesheet.css">
    <link rel="stylesheet" href="/syntax-highlight-emacs.css">

    <meta name="generator" content="Nanoc 4.12.7">

    <script defer data-domain="kadalu.tech" src="https://plausible.io/js/plausible.js"></script>
</head>

    
<link href="/static/css/fav.png" rel="icon" type="image/x-icon" />
<link rel="apple-touch-icon" href="/static/css/fav.png" />
<meta name="generator" content="Nanoc 4.12.7">
<meta property="og:title" content="Kadalu Storage - Quick Start Guide"/>
<meta name="author" content=""/>
<meta property="og:locale" content="en_US"/>
<meta name="description" content=""/>
<meta property="og:description" content=""/>
<link rel="canonical" href="/storage/quick-start/"/>
<meta property="og:url" content="/storage/quick-start/"/>
<meta property="og:site_name" content="Kadalu"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content=""/>

<meta name="twitter:card" content="summary"/>
<meta name="twitter:image" content="https://kadalu.tech/images/logo-icon-spaced.png"/>
<meta property="og:image" content="https://kadalu.tech/images/logo-icon-spaced.png"/>

<meta name="twitter:site" content="https://kadalu.tech"/>
<meta name="twitter:title" content="Kadalu Storage - Quick Start Guide"/>
<meta name="twitter:description" content=""/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <body>
        <div id="main">
            <div class="px-10 py-5 bg-white md:flex flex-row">
    <div class="basis-2/12">
        <a href="/"><img src="/images/logo.svg" class="h-16"/></a>
    </div>
    <nav class="text-right block basis-10/12 py-2 top-bar">
        <a class="block md:inline-block" href="/blog">Blog</a>
        <a class="block md:inline-block" href="/about">About Us</a>
        
    </nav>
</div>

            <div class="py-10 px-10 w-full md:w-3/4" id="content">
                <h1>Kadalu Storage - Quick Start Guide</h1>
                <div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Kadalu Storage is a distributed filesystem management system. At its core, Kadalu uses the GlusterFS filesystem.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide assumes you will create a replica 3 (1x3) cluster using three nodes. The steps are the same if you plan to use a single node.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add Kadalu Storage repository using the below commands.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>curl -sL --compressed "https://kadalu.tech/pkgs/1/ubuntu/20.04/KEY.gpg" | sudo apt-key add -
sudo curl -sL --compressed -o /etc/apt/sources.list.d/kadalu_storage.list "https://kadalu.tech/pkgs/1/ubuntu/20.04/sources.list"
sudo apt update</code></pre>
</div>
</div>
</li>
<li>
<p>Install the latest Kadalu Storage packages on all the nodes.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>apt <span class="nb">install </span>kadalu-storage</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_service_setup">Service Setup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Enable and start the kadalu-mgr service on all the storage nodes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>systemctl <span class="nb">enable </span>kadalu-mgr
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>systemctl start kadalu-mgr</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_user_and_login">Create a user and login</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Users can be created in any one of the storage nodes or in any dedicated node other than the storage nodes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>kadalu user create admin
<span class="go">Password:
User admin created successfully</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Login</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>kadalu user login admin
<span class="go">Password:
Login successful. Details saved in `/root/.kadalu/session`. Delete this file or run `kadalu logout` command to delete the session.</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_pool_and_add_storage_nodes">Create a pool and add storage nodes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following commands are run from the storage manager (which can be one of the storage nodes or any separate node) which was chosen in the previous step.</p>
</div>
<div class="paragraph">
<p><strong>Note</strong>: The below steps 1 and 2 can be skipped and can be done as part of volume create by passing <code>--auto-add-nodes</code> and <code>--auto-create-pool</code> during volume create command.</p>
</div>
<div class="sect2">
<h3 id="_step_1">Step 1:</h3>
<div class="paragraph">
<p>Create a pool</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>kadalu pool create DEV
<span class="go">Pool DEV created successfully
ID: 2a643b56-3fd9-4782-882a-3915853d67a7</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>kadalu pool list
<span class="go">Name  ID
DEV   2a643b56-3fd9-4782-882a-3915853d67a7</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_step_2">Step 2:</h3>
<div class="paragraph">
<p>Add nodes to the pool</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>kadalu node add DEV/vm1
<span class="go">Node vm1 added to DEV successfully
ID: 710acd83-d3aa-4292-b362-543599d12edf
</span><span class="gp">$</span><span class="w">
</span><span class="gp">$</span><span class="w"> </span>kadalu node add DEV/vm2
<span class="go">Node vm2 added to DEV successfully
ID: dfed8210-53d4-44e6-8a8b-7abe3fddb145
</span><span class="gp">$</span><span class="w">
</span><span class="gp">$</span><span class="w"> </span>kadalu node add DEV/vm3
<span class="go">Node vm3 added to DEV successfully
ID: 9ac5d869-9542-4dac-9c88-97cfb11a5738
</span><span class="gp">$</span><span class="w"> </span>kadalu node list
<span class="go">Name     ID                                    Endpoint
DEV/vm3  9ac5d869-9542-4dac-9c88-97cfb11a5738  http://vm3:3000
DEV/vm2  dfed8210-53d4-44e6-8a8b-7abe3fddb145  http://vm2:3000
DEV/vm1  710acd83-d3aa-4292-b362-543599d12edf  http://vm1:3000</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_storage_volume">Create a storage volume</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now create a directory to use as a storage unit and create a Kadalu Storage Volume.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo mkdir</span> /data/t2     <span class="o">(</span>Run on all the storage nodes<span class="o">)</span>
<span class="gp">$</span><span class="w">
</span><span class="gp">$</span><span class="w"> </span>kadalu volume create DEV/Test-Vol replica 3 vm1:/data/t2 vm2:/data/t2 vm3:/data/t2
<span class="go">Volume Test-Vol created successfully
ID: 59a726ad-0010-4a4f-ac4d-b11e54e722d7
</span><span class="gp">$</span><span class="w">
</span><span class="gp">$</span><span class="w"> </span>kadalu volume list
<span class="go">Name          ID                                    State    Type          Size  Inodes
DEV/Test-Vol  59a726ad-0010-4a4f-ac4d-b11e54e722d7  Started  Replicate  50.0GiB   26.2M</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Note</strong>: The above command can be written as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span>kadalu volume create DEV/Test-Vol replica 3 vm1:/data/t2 vm2:/data/t2 vm3:/data/t2 <span class="nt">--auto-add-nodes</span> <span class="nt">--auto-create-pool</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And the steps to create pool and node addition can be skipped.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mount_the_volume">Mount the volume</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="console"><span class="gp">$</span><span class="w"> </span><span class="nb">sudo mkdir</span> /mnt/kadalu_vol
<span class="gp">$</span><span class="w"> </span><span class="nb">sudo </span>mount <span class="nt">-t</span> kadalu vm1:DEV/Test-Vol /mnt/kadalu_vol/
<span class="gp">$</span><span class="w"> </span><span class="nb">df</span> <span class="nt">-h</span> /mnt/kadalu_vol/
<span class="go">Filesystem           Size  Used Avail Use% Mounted on
kadalu:/Test-Vol   30G  554M   30G   2% /mnt/kadalu_vol</span></code></pre>
</div>
</div>
</div>
</div>
            </div>
            <div class="min-h-[50vh] py-10 px-10 bg-[#007ca3] text-white  underline-offset-8">
    <div class="flex flex-row flex-wrap">
        <div class="p-5 footer-column">
            <h2 class="text-xl underline py-2">Company</h2>
            <a href="/about">About Us</a>
            <a href="/blog">Blog Posts</a>
        </div>
        <div class="p-5 footer-column">
            <h2 class="text-xl underline py-2">Resources</h2>
            <a href="/support">Support</a>
            <a href="/security">Security</a>
            <a href="/gluster-vs-kadalu">Gluster vs Kadalu</a>
            <a href="/storage/quick-start">Kadalu Storage Quick start</a>
        </div>
        <div class="p-5 footer-column">
            <h2 class="text-xl underline py-2">Community</h2>
            <a target="_blank" href="https://join.slack.com/t/kadalu/shared_invite/enQtNzg1ODQ0MDA5NTM2LWMzMTc5ZTJmMjk4MzI0YWVhOGFlZTJjZjY5MDNkZWI0Y2VjMDBlNzVkZmI1NWViN2U3MDNlNDJhNjE5OTBlOGU">Community Slack</a>
            <a target="_blank" href="https://github.com/kadalu">Github</a>
        </div>

        <div class="p-5 footer-column">
            <h2 class="text-xl underline py-2">Contact Us</h2>
            <a href="mailto:hello@kadalu.tech">Email to hello@kadalu.tech</a>
            <a href="https://twitter.com/kadalu_tech">Twitter</a>
            <a href="https://linkedin.com/kadalu_tech">Linkedin</a>
        </div>
    </div>
    <div class="text-center mt-20">
        Copyright &copy; 2022 Kadalu Technologies Private Limited.
    </div>
</div>

        </div>
    </body>
</html>
